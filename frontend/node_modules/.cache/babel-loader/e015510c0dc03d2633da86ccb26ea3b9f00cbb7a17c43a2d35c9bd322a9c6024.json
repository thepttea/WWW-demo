{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useComposeRef = exports.supportRef = exports.supportNodeRef = exports.getNodeRef = exports.fillRef = exports.composeRef = void 0;\nvar _react = require(\"react\");\nvar _reactIs = require(\"react-is\");\nvar _useMemo = _interopRequireDefault(require(\"./hooks/useMemo\"));\nvar _isFragment = _interopRequireDefault(require(\"./React/isFragment\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst ReactMajorVersion = Number(_react.version.split('.')[0]);\nconst fillRef = (ref, node) => {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (typeof ref === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nexports.fillRef = fillRef;\nconst composeRef = (...refs) => {\n  const refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return node => {\n    refs.forEach(ref => {\n      fillRef(ref, node);\n    });\n  };\n};\nexports.composeRef = composeRef;\nconst useComposeRef = (...refs) => {\n  return (0, _useMemo.default)(() => composeRef(...refs),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs, (prev, next) => prev.length !== next.length || prev.every((ref, i) => ref !== next[i]));\n};\nexports.useComposeRef = useComposeRef;\nconst supportRef = nodeOrComponent => {\n  if (!nodeOrComponent) {\n    return false;\n  }\n\n  // React 19 no need `forwardRef` anymore. So just pass if is a React element.\n  if (isReactElement(nodeOrComponent) && ReactMajorVersion >= 19) {\n    return true;\n  }\n  const type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render && type.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render && nodeOrComponent.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n  return true;\n};\nexports.supportRef = supportRef;\nfunction isReactElement(node) {\n  return /*#__PURE__*/(0, _react.isValidElement)(node) && !(0, _isFragment.default)(node);\n}\nconst supportNodeRef = node => {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nexports.supportNodeRef = supportNodeRef;\nconst getNodeRef = node => {\n  if (node && isReactElement(node)) {\n    const ele = node;\n\n    // Source from:\n    // https://github.com/mui/material-ui/blob/master/packages/mui-utils/src/getReactNodeRef/getReactNodeRef.ts\n    return ele.props.propertyIsEnumerable('ref') ? ele.props.ref : ele.ref;\n  }\n  return null;\n};\nexports.getNodeRef = getNodeRef;","map":{"version":3,"names":["Object","defineProperty","exports","value","useComposeRef","supportRef","supportNodeRef","getNodeRef","fillRef","composeRef","_react","require","_reactIs","_useMemo","_interopRequireDefault","_isFragment","obj","__esModule","default","ReactMajorVersion","Number","version","split","ref","node","current","refs","refList","filter","Boolean","length","forEach","prev","next","every","i","nodeOrComponent","isReactElement","type","isMemo","prototype","render","$$typeof","ForwardRef","isValidElement","ele","props","propertyIsEnumerable"],"sources":["/Users/bruce/WWW-Demo/frontend/node_modules/@rc-component/util/lib/ref.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useComposeRef = exports.supportRef = exports.supportNodeRef = exports.getNodeRef = exports.fillRef = exports.composeRef = void 0;\nvar _react = require(\"react\");\nvar _reactIs = require(\"react-is\");\nvar _useMemo = _interopRequireDefault(require(\"./hooks/useMemo\"));\nvar _isFragment = _interopRequireDefault(require(\"./React/isFragment\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst ReactMajorVersion = Number(_react.version.split('.')[0]);\nconst fillRef = (ref, node) => {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (typeof ref === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nexports.fillRef = fillRef;\nconst composeRef = (...refs) => {\n  const refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return node => {\n    refs.forEach(ref => {\n      fillRef(ref, node);\n    });\n  };\n};\nexports.composeRef = composeRef;\nconst useComposeRef = (...refs) => {\n  return (0, _useMemo.default)(() => composeRef(...refs),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs, (prev, next) => prev.length !== next.length || prev.every((ref, i) => ref !== next[i]));\n};\nexports.useComposeRef = useComposeRef;\nconst supportRef = nodeOrComponent => {\n  if (!nodeOrComponent) {\n    return false;\n  }\n\n  // React 19 no need `forwardRef` anymore. So just pass if is a React element.\n  if (isReactElement(nodeOrComponent) && ReactMajorVersion >= 19) {\n    return true;\n  }\n  const type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render && type.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render && nodeOrComponent.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n  return true;\n};\nexports.supportRef = supportRef;\nfunction isReactElement(node) {\n  return /*#__PURE__*/(0, _react.isValidElement)(node) && !(0, _isFragment.default)(node);\n}\nconst supportNodeRef = node => {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nexports.supportNodeRef = supportNodeRef;\nconst getNodeRef = node => {\n  if (node && isReactElement(node)) {\n    const ele = node;\n\n    // Source from:\n    // https://github.com/mui/material-ui/blob/master/packages/mui-utils/src/getReactNodeRef/getReactNodeRef.ts\n    return ele.props.propertyIsEnumerable('ref') ? ele.props.ref : ele.ref;\n  }\n  return null;\n};\nexports.getNodeRef = getNodeRef;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}