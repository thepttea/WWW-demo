{"ast":null,"code":"var _jsxFileName = \"/Users/bruce/WWW-Demo/frontend/src/components/StrategyRefinementDrawer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Drawer, Button, Typography, Space } from 'antd';\nimport { FullscreenOutlined, FullscreenExitOutlined, CloseOutlined } from '@ant-design/icons';\nimport ParameterPanel from './ParameterPanel';\nimport ChatInterface from './ChatInterface';\nimport './StrategyRefinementDrawer.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst StrategyRefinementDrawer = ({\n  visible,\n  onClose,\n  onStrategyConfirm\n}) => {\n  _s();\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [parameters, setParameters] = useState({\n    agents: 100,\n    interactionProbability: 0.5,\n    positiveResponseProbability: 0.3,\n    negativeResponseProbability: 0.3,\n    neutralResponseProbability: 0.4,\n    initialPositiveSentiment: 0.2,\n    initialNegativeSentiment: 0.6,\n    initialNeutralSentiment: 0.2\n  });\n  const handleParameterChange = (key, value) => {\n    setParameters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const handleStrategyGenerated = strategy => {\n    // 这里可以处理策略生成逻辑\n    console.log('Generated strategy:', strategy);\n  };\n  const handleConfirm = () => {\n    // 这里应该获取聊天中生成的最终策略\n    const finalStrategy = \"Generated PR strategy from chat...\";\n    onStrategyConfirm(finalStrategy, parameters);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Drawer, {\n      title: null,\n      placement: \"right\",\n      onClose: onClose,\n      open: visible,\n      width: isFullscreen ? '100vw' : '80vw',\n      className: `strategy-drawer ${isFullscreen ? 'fullscreen' : ''}`,\n      mask: !isFullscreen,\n      maskClosable: !isFullscreen,\n      closable: false,\n      bodyStyle: {\n        padding: 0,\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-header\",\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            level: 2,\n            className: \"drawer-title\",\n            children: \"LLM Strategy Refinement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"text\",\n              icon: isFullscreen ? /*#__PURE__*/_jsxDEV(FullscreenExitOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(FullscreenOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 67\n              }, this),\n              onClick: () => setIsFullscreen(!isFullscreen),\n              className: \"header-button\",\n              children: isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"text\",\n              icon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 23\n              }, this),\n              onClick: onClose,\n              className: \"header-button\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left-panel\",\n            children: [/*#__PURE__*/_jsxDEV(ParameterPanel, {\n              parameters: parameters,\n              onParameterChange: handleParameterChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confirm-section\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                size: \"large\",\n                onClick: handleConfirm,\n                className: \"confirm-button\",\n                children: \"Confirm Final Strategy & Return\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right-panel\",\n            children: /*#__PURE__*/_jsxDEV(ChatInterface, {\n              onStrategyGenerated: handleStrategyGenerated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(StrategyRefinementDrawer, \"z/0S7lZ2IBBgaDGgiIAJnQM2rxs=\");\n_c = StrategyRefinementDrawer;\nexport default StrategyRefinementDrawer;\nvar _c;\n$RefreshReg$(_c, \"StrategyRefinementDrawer\");","map":{"version":3,"names":["React","useState","Drawer","Button","Typography","Space","FullscreenOutlined","FullscreenExitOutlined","CloseOutlined","ParameterPanel","ChatInterface","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","StrategyRefinementDrawer","visible","onClose","onStrategyConfirm","_s","isFullscreen","setIsFullscreen","parameters","setParameters","agents","interactionProbability","positiveResponseProbability","negativeResponseProbability","neutralResponseProbability","initialPositiveSentiment","initialNegativeSentiment","initialNeutralSentiment","handleParameterChange","key","value","prev","handleStrategyGenerated","strategy","console","log","handleConfirm","finalStrategy","children","title","placement","open","width","className","mask","maskClosable","closable","bodyStyle","padding","height","level","fileName","_jsxFileName","lineNumber","columnNumber","type","icon","onClick","onParameterChange","size","onStrategyGenerated","_c","$RefreshReg$"],"sources":["/Users/bruce/WWW-Demo/frontend/src/components/StrategyRefinementDrawer.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Drawer, Button, Typography, Space } from 'antd';\nimport { FullscreenOutlined, FullscreenExitOutlined, CloseOutlined } from '@ant-design/icons';\nimport ParameterPanel from './ParameterPanel';\nimport ChatInterface from './ChatInterface';\nimport { SimulationParameters } from '../types';\nimport './StrategyRefinementDrawer.css';\n\nconst { Title } = Typography;\n\ninterface StrategyRefinementDrawerProps {\n  visible: boolean;\n  onClose: () => void;\n  onStrategyConfirm: (strategy: string, parameters: SimulationParameters) => void;\n}\n\nconst StrategyRefinementDrawer: React.FC<StrategyRefinementDrawerProps> = ({\n  visible,\n  onClose,\n  onStrategyConfirm,\n}) => {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [parameters, setParameters] = useState<SimulationParameters>({\n    agents: 100,\n    interactionProbability: 0.5,\n    positiveResponseProbability: 0.3,\n    negativeResponseProbability: 0.3,\n    neutralResponseProbability: 0.4,\n    initialPositiveSentiment: 0.2,\n    initialNegativeSentiment: 0.6,\n    initialNeutralSentiment: 0.2,\n  });\n\n  const handleParameterChange = (key: keyof SimulationParameters, value: number) => {\n    setParameters(prev => ({\n      ...prev,\n      [key]: value,\n    }));\n  };\n\n  const handleStrategyGenerated = (strategy: string) => {\n    // 这里可以处理策略生成逻辑\n    console.log('Generated strategy:', strategy);\n  };\n\n  const handleConfirm = () => {\n    // 这里应该获取聊天中生成的最终策略\n    const finalStrategy = \"Generated PR strategy from chat...\";\n    onStrategyConfirm(finalStrategy, parameters);\n    onClose();\n  };\n\n  return (\n    <>\n      <Drawer\n        title={null}\n        placement=\"right\"\n        onClose={onClose}\n        open={visible}\n        width={isFullscreen ? '100vw' : '80vw'}\n        className={`strategy-drawer ${isFullscreen ? 'fullscreen' : ''}`}\n        mask={!isFullscreen}\n        maskClosable={!isFullscreen}\n        closable={false}\n        bodyStyle={{ padding: 0, height: '100vh' }}\n      >\n        <div className=\"drawer-content\">\n          <div className=\"drawer-header\">\n            <Title level={2} className=\"drawer-title\">LLM Strategy Refinement</Title>\n            <Space>\n              <Button\n                type=\"text\"\n                icon={isFullscreen ? <FullscreenExitOutlined /> : <FullscreenOutlined />}\n                onClick={() => setIsFullscreen(!isFullscreen)}\n                className=\"header-button\"\n              >\n                {isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'}\n              </Button>\n              <Button\n                type=\"text\"\n                icon={<CloseOutlined />}\n                onClick={onClose}\n                className=\"header-button\"\n              />\n            </Space>\n          </div>\n          \n          <div className=\"drawer-body\">\n            <div className=\"left-panel\">\n              <ParameterPanel\n                parameters={parameters}\n                onParameterChange={handleParameterChange}\n              />\n              <div className=\"confirm-section\">\n                <Button\n                  type=\"primary\"\n                  size=\"large\"\n                  onClick={handleConfirm}\n                  className=\"confirm-button\"\n                >\n                  Confirm Final Strategy & Return\n                </Button>\n              </div>\n            </div>\n            \n            <div className=\"right-panel\">\n              <ChatInterface onStrategyGenerated={handleStrategyGenerated} />\n            </div>\n          </div>\n        </div>\n      </Drawer>\n    </>\n  );\n};\n\nexport default StrategyRefinementDrawer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}